:root{
  --bg:#0a0d12;          /* deep charcoal */
  --surface:#0f141b;     /* darker surface */
  --panel:#0f1622;       /* panel tone */
  --card:#121a2a;        /* card tone */
  --text:#e8edf6;        /* bright text */
  --muted:#aab4c6;       /* soft muted */
  --primary:#ff5e66;     /* coral */
  --primary-600:#e24b55; /* deeper coral */
  --border:rgba(255,255,255,.08);
  --header-h:72px;
}

/* Light theme colors */
[data-theme="light"]{
  --bg:#f5f7fa;          /* light grayish blue */
  --surface:#ffffff;     /* pure white */
  --panel:#fafbfc;       /* very light gray */
  --card:#ffffff;        /* white card */
  --text:#1a202c;        /* dark text */
  --muted:#64748b;       /* slate muted */
  --primary:#ff5e66;     /* coral (keep same) */
  --primary-600:#e24b55; /* deeper coral (keep same) */
  --border:rgba(0,0,0,.10);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:'Inter',system-ui,-apple-system,"Segoe UI",Roboto,Arial,"Noto Sans",sans-serif;
  background:radial-gradient(800px 360px at 20% 10%,rgba(255,94,102,.10),transparent 60%),
             radial-gradient(900px 420px at 80% -5%,rgba(124,134,211,.10),transparent 60%),
             var(--bg);
  color:var(--text);
  transition:background-color .3s ease, color .3s ease;
}

/* Light mode: softer gradients */
[data-theme="light"] body{
  background:radial-gradient(800px 360px at 20% 10%,rgba(255,94,102,.08),transparent 60%),
             radial-gradient(900px 420px at 80% -5%,rgba(124,134,211,.08),transparent 60%),
             var(--bg);
}
/* auth page: lock scrolling */
body.no-scroll{overflow:hidden}
.container{width:min(1600px,96vw);margin:0 auto}
.editor .container{width:min(1318px,96vw)}
/* Step2 使用与 Step1 一致的容器宽度 */
.refine .container{width:min(1318px,96vw)}
/* Step3 使用与 Step1/Step2 一致的容器宽度 */
.upscale .container{width:min(1318px,96vw)}
.container.header-inner.nb-header{width:100%;max-width:none;padding-inline:clamp(20px, calc(25vw - 128px), 352px)}

/* header */
.site-header{position:sticky;top:0;z-index:60;background:rgba(11,15,20,.6);backdrop-filter:blur(10px);border-bottom:1px solid var(--border);height:var(--header-h)}
.header-inner{display:flex;align-items:center;justify-content:space-between;height:100%;padding:0}

/* NB-style nav */
.nb-header{display:flex;align-items:center;justify-content:space-between;padding:0;width:100%;position:relative}
.nb-left{display:flex;align-items:center;gap:12px}
.nb-center{display:flex;align-items:center;gap:32px;position:absolute;left:50%;transform:translateX(-50%)}
.brand{display:flex;align-items:center;gap:.6rem;font-weight:800}
.brand .logo{font-size:18px;filter:drop-shadow(0 0 0 rgba(0,0,0,0))}
.logo-img{width:44px;height:44px;display:block}
.brand .name{font-size:1.365rem;letter-spacing:.2px;color:var(--text);font-weight:800}
.nb-left .nav-link{color:var(--text);text-decoration:none;font-weight:600;opacity:.9;padding:.4rem .4rem;border-radius:10px;transition:opacity .15s ease}
.nb-left .nav-link:hover{opacity:1}

/* center nav links */
.nb-center .nav-link{color:var(--text);text-decoration:none;font-weight:800;opacity:.92}
.nb-center .nav-link:hover{opacity:1;text-decoration:none}

/* ensure all nav links never fall back to default blue/underline */
.nav-link{color:var(--text);text-decoration:none}
.nav-link:visited{color:var(--text)}
.nav-link:hover{text-decoration:none}

/* dropdown styles removed */

.nb-right{display:flex;align-items:center;gap:14px;position:relative}
.icon-btn{display:inline-grid;place-items:center;width:40px;height:40px;border-radius:10px;border:1px solid var(--border);background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));color:var(--text);cursor:pointer}
.pill{display:inline-flex;align-items:center;gap:6px;padding:0 .8rem;height:40px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:transparent;color:var(--text);font-weight:700}
.pill .chev{opacity:.9}
.btn-launch{display:inline-flex;align-items:center;justify-content:center;padding:0 1.05rem;height:40px;border-radius:999px;text-decoration:none;color:#fff;font-weight:900;border:1px solid rgba(255,94,102,.45);background:linear-gradient(180deg,#ff5e66,#ff5e66);box-shadow:0 6px 18px rgba(255,94,102,.25)}
.credits{height:40px;border-color:rgba(255,94,102,.25);background:rgba(255,94,102,.08)}
.credits .coin{display:inline-grid;place-items:center;width:16px;height:16px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#ffd3d6,#ff5e66);box-shadow:inset 0 0 0 1px rgba(0,0,0,.25)}
.credits .amount{font-weight:900;color:#fff}
.credits .unit{color:#ff9aa1;font-weight:800}
.avatar{width:36px;height:36px;border-radius:50%;display:inline-grid;place-items:center;background:#2f6b28;color:#e9ffd9;font-weight:900}
.profile-btn{background:linear-gradient(180deg,#ffd2a6,#e3b56d);color:#1a1f2b;border:1px solid rgba(0,0,0,.25);box-shadow:0 1px 0 rgba(255,255,255,.25) inset}
.profile-popover{position:absolute;right:18px;top:64px;background:rgba(15,20,27,.95);border:1px solid var(--border);border-radius:12px;padding:12px 14px;min-width:220px;z-index:50;box-shadow:0 10px 30px rgba(0,0,0,.35)}
.profile-popover .me-line{color:#a3aec2;margin-bottom:8px}
.profile-popover .me-actions{display:flex;gap:8px}

/* Sign In button: same footprint as Launch Now, without stroke */
.sign-in-btn{padding:0 1.05rem;height:40px;border-radius:999px;border:0}
.btn.primary.sign-in-btn{border:0 !important}

/* Auth visibility guard (CSS-level, no闪烁) */
html[data-auth="on"] .sign-in-btn{display:none !important}
html[data-auth="on"] .profile-btn{display:inline-grid !important}
html:not([data-auth="on"]) .sign-in-btn{display:inline-flex !important}
html:not([data-auth="on"]) .profile-btn{display:none !important}

/* Auth modal */
.auth-modal{position:fixed;inset:0;display:grid;place-items:center;z-index:999}
.auth-modal[hidden]{display:none !important}
.auth-backdrop{position:absolute;inset:0;background:transparent;backdrop-filter:none;cursor:pointer}
.auth-card{position:relative;width:min(560px,92vw);border-radius:18px;padding:28px 28px 24px;background:#18202b;border:1px solid var(--border);box-shadow:0 20px 60px rgba(0,0,0,.45);display:flex;flex-direction:column;align-items:center;gap:12px;z-index:1000}
.auth-logo{font-size:28px}
.auth-title{margin:4px 0 0;font-size:26px}
.auth-sub{margin:0 0 8px;color:#a3aec2}
.auth-tabs{display:flex;gap:28px;margin:6px 0 6px}
.auth-tab{background:transparent;border:0;color:#a3aec2;cursor:pointer;padding:8px 6px}
.auth-tab.active{color:#ffcc66;border-bottom:2px solid #ffcc66;border-radius:0}
.auth-pane{width:100%;display:none;flex-direction:column;gap:10px;margin-top:6px}
.auth-pane.active{display:flex}
.auth-label{align-self:flex-start;color:#a3aec2;font-size:14px}
.auth-input{width:100%;height:48px;border-radius:12px;border:1px solid var(--border);background:#0e1320;color:var(--text);padding:0 12px}
.auth-close{position:absolute;right:10px;top:10px;border:1px solid var(--border);background:transparent;border-radius:10px;color:var(--text);width:32px;height:32px;cursor:pointer;z-index:1001}
.auth-google-btn{width:100%;}
.auth-tip{margin:0;color:#a3aec2;font-size:12px}

/* Loading spinner for auth buttons */
.spinner {
  display: inline-block;
  width: 16px;
  height: 16px;
  margin-right: 8px;
  border: 2px solid rgba(255,255,255,0.3);
  border-top-color: #fff;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
  vertical-align: middle;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Auth back button */
.auth-back-btn {
  align-self: flex-start;
  background: transparent;
  border: none;
  color: var(--primary);
  font-weight: 600;
  cursor: pointer;
  padding: 8px 0;
  margin-bottom: 12px;
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: opacity 0.2s;
}
.auth-back-btn:hover {
  opacity: 0.8;
}
.back-arrow {
  font-size: 18px;
}

/* Success banner */
.auth-success-banner {
  background: rgba(76, 175, 80, 0.15);
  border: 1px solid rgba(76, 175, 80, 0.3);
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 12px;
}
.success-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: #4CAF50;
  color: white;
  font-weight: 900;
  font-size: 16px;
  flex-shrink: 0;
}
.success-text {
  margin: 0;
  color: #a3ffa8;
  font-size: 14px;
  line-height: 1.4;
}
.success-text #sent-email {
  color: #ffcc66;
  font-weight: 600;
}

/* Expire tip */
.auth-expire-tip {
  margin-top: 4px;
  margin-bottom: 12px;
  color: #8ea0b8;
  font-size: 12px;
}
.auth-consent{margin:10px 0 0;color:#8ea0b8;font-size:12px}
.auth-consent a{color:#c3d6ff;text-decoration:underline}

/* auth page: hide all site chrome (navbar, main, footer) -> 留空底色背景 */
html[data-authpage="1"] .site-header,
html[data-authpage="1"] .site-footer{display:none !important}
/* 仅隐藏 main 下除登录弹窗外的所有内容，保留纯背景与弹窗 */
html[data-authpage="1"] main > *:not(.auth-modal){display:none !important}

.btn{display:inline-flex;align-items:center;justify-content:center;padding:.95rem 1.15rem;border-radius:999px;border:1px solid var(--border);font-weight:800;color:var(--text);text-decoration:none;background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));transition:.2s;font-size:.95rem;box-shadow:0 2px 14px rgba(0,0,0,.35)}
.btn:hover{transform:translateY(-1px)}
.btn.primary{background:linear-gradient(180deg,#ff5e66,#ff5e66);color:#fff;border-color:rgba(255,94,102,.45);box-shadow:0 8px 24px rgba(255,94,102,.25),0 2px 10px rgba(0,0,0,.35)}
.btn.ghost{background:transparent}
.btn.full{width:100%}
.btn-small{padding:.6rem 1rem;border-radius:9999px;font-size:.85rem;font-weight:400}

/* hero */
.hero{height:calc(100vh - var(--header-h));display:flex;align-items:stretch;position:relative}

/* Split layout (left-right) with 48% : 52% ratio */
.hero-split .hero-container{display:flex;align-items:stretch;gap:0;width:100vw;max-width:100vw;height:100%;margin:0}
.hero-left{flex:0 0 48%;max-width:48%;display:flex;align-items:stretch;justify-content:center;background:transparent;position:relative}
.hero-right{flex:0 0 52%;max-width:52%;display:flex;align-items:stretch;justify-content:flex-start;padding:72px 0 30px}

/* Centered layout (deprecated, kept for compatibility) */
.hero-centered{display:grid;place-items:center;text-align:center}

/* Hero content - positioned at upper-middle for stable layout across screen sizes */
.hero-copy{width:100%;max-width:100%;display:flex;flex-direction:column;height:100%;padding:16vh clamp(48px,6vw,88px) 6px}
.hero-split .hero-copy{text-align:left;align-items:flex-start}
.badge{display:inline-block;padding:.5rem .9rem;border-radius:999px;border:1px solid rgba(255,94,102,.35);background:rgba(255,94,102,.14);color:#ffe9ec;font-weight:800;font-size:.95rem;margin-bottom:22px;width:fit-content}
.hero-title{font-size:clamp(40px,5.5vw,64px);line-height:1.14;margin:0 0 18px;font-weight:900;letter-spacing:-0.015em}
.hero-sub{color:var(--muted);margin:0 0 36px;max-width:600px;font-size:1.15rem;line-height:1.8;letter-spacing:.01em}
.hero-actions{display:flex;gap:1.2rem;margin:0 0 18px}
.hero-actions .btn{border-radius:999px;padding:1.05rem 1.45rem;font-size:1rem}
.hero-features{display:flex;gap:26px;margin:18px 0 0;color:var(--muted);padding:0;list-style:none;font-size:1rem;letter-spacing:.01em;flex-wrap:wrap}
.hero-features li{display:flex;gap:6px;align-items:center;line-height:1.6}

/* Hero CTA (bottom of right content, left-aligned group with centered children) */
.hero-cta{display:flex;margin-top:auto;align-self:flex-start}
/* Reset button styles when .hero-cta is a button */
button.hero-cta{background:none;border:none;padding:0;margin-top:auto;cursor:pointer;font:inherit;color:inherit}
.hero-cta-inner{display:flex;flex-direction:column;align-items:center;gap:10px}
.hero-cta-text{font-size:clamp(18px,2vw,26px);font-weight:900;letter-spacing:-0.01em;color:var(--text);text-decoration:none;transition:opacity 0.2s}
button.hero-cta:hover .hero-cta-text{opacity:0.8}
.hero-cta-text:hover{opacity:0.8;text-decoration:none}
.scroll-indicator{display:flex;justify-content:center;align-items:center}
.arrow-down{font-size:clamp(24px,3.2vw,36px);color:var(--muted);animation:arrowBounce 2s infinite}
@keyframes bounce{
  0%,20%,50%,80%,100%{transform:translateY(0)}
  40%{transform:translateY(-6px)}
  60%{transform:translateY(-3px)}
}
@keyframes arrowBounce{
  0%,20%,50%,80%,100%{transform:translateY(0) scaleX(1.6)}
  40%{transform:translateY(-6px) scaleX(1.6)}
  60%{transform:translateY(-3px) scaleX(1.6)}
}

/* Hero background carousel (in left column, full height) */
.hero-bg-carousel{position:relative;width:100%;height:100%;overflow:hidden}
.hero-bg-image{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:calc(50% + 15vh) center;opacity:0;transition:opacity 1s ease-in-out}
.hero-bg-image.active{opacity:1}

/* editor panels */
.editor,.refine,.upscale{padding:72px 0;background:var(--bg);min-height:110vh;display:flex;flex-direction:column;justify-content:center;align-items:center}
.section-header{text-align:center;margin:0 auto 48px;max-width:1200px}
.section-header .badge{display:inline-flex;padding:.6rem 1rem;border-radius:999px;border:1px solid rgba(228,192,122,.42);background:rgba(228,192,122,.16);color:#fff0cf;font-weight:700;font-size:1rem;margin-bottom:24px}
.section-title{font-size:clamp(30px,4vw,47px);line-height:1.1;margin:0 0 20px;font-weight:900;letter-spacing:-0.02em;color:var(--text)}
.section-subtitle{color:var(--muted);margin:0 auto;font-size:1.25rem;line-height:1.5;letter-spacing:.01em;max-width:700px}
/* removed step1 custom layout */
.editor-grid,.refine-grid,.upscale-grid{display:grid;gap:var(--editor-gap,36px)}
.editor-grid{grid-template-columns:1fr 3fr;--editor-gap:20px}
.refine-grid{grid-template-columns:1fr 3fr;--editor-gap:20px}
.upscale-grid{grid-template-columns:1fr 3fr;--editor-gap:20px}
.panel{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:20px 20px 22px;box-shadow:0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04)}
.panel{height:952px;display:flex;flex-direction:column}
/* ensure right panel never shows overflow */
.panel.right{overflow:hidden;height:937px}
.left-wrap{display:flex;flex-direction:column;height:937px}
.left-wrap .panel{height:auto;flex:1}
.step1-cta{padding:16px 0 0;margin-top:calc(var(--editor-gap,36px) - 15px)}
.step1-cta .btn{border-radius:12px;width:100%;height:72px;background:linear-gradient(180deg,#ff5e66,#ff5e66);color:#fff;border:1px solid rgba(255,94,102,.35);box-shadow:0 8px 24px rgba(255,94,102,.25)}
/* Step2 CTA 与 Step1 一致 */
.step2-cta,.step3-cta{padding:16px 0 0;margin-top:calc(var(--editor-gap,36px) - 15px)}
.step2-cta .btn,.step3-cta .btn{border-radius:12px;width:100%;height:72px;background:linear-gradient(180deg,#ff5e66,#ff5e66);color:#fff;border:1px solid rgba(255,94,102,.35);box-shadow:0 8px 24px rgba(255,94,102,.25)}
.editor-grid{align-items:stretch}
.refine-grid{align-items:stretch}
.left-wrap,.panel.right{align-self:stretch}
/* 对齐底部：让 CTA 的底边与右侧面板底边一致 */
.editor-grid{grid-auto-rows:1fr}
.panel .panel-inner{display:flex;flex-direction:column;gap:20px;flex:1;justify-content:flex-start;align-items:flex-start;overflow:visible}
/* 左侧面板：让两块输入区域整体在面板中靠上且左对齐 */
.panel.left .panel-inner{align-items:flex-start}
/* Step2 左侧表单宽度与 Step1 左列一致并靠上显示 */
.refine .panel.left .panel-inner{align-items:flex-start}
.refine .refine-form{width:270px;display:flex;flex-direction:column;gap:12px}
/* 右侧面板内元素拉伸，避免画布被挤瘦；overflow:hidden防止canvas内容撑大边框 */
.panel.right .panel-inner{align-items:stretch;overflow:hidden}
.panel .panel-bar{height:64px;display:flex;align-items:center;margin:-20px -20px 12px;padding:0 20px;background:linear-gradient(135deg,rgba(159,176,203,.08),rgba(255,255,255,.03));border-bottom:1px solid rgba(159,176,203,.22);border-top-left-radius:16px;border-top-right-radius:16px}
/* extra spacing below titles for left panels */
.editor .panel.left .panel-bar,
.refine .panel.left .panel-bar{ margin-bottom: 38px; }
/* add 7px spacing above Output Gallery canvas */
.editor .panel.right .panel-bar{ margin-bottom: 22px; }
.refine .panel.right .panel-bar{ margin-bottom: 22px; }
.panel .bar-title{font-weight:900;color:#ffcc99}
.panel-head h2{margin:.1rem 0 .35rem;font-size:30px}
.panel-head h3{margin:.1rem 0 .2rem;font-size:22px}
.panel-head p{margin:0;color:var(--muted)}

.field{display:flex;flex-direction:column;gap:10px;margin:18px 0}
.field.two-col{display:flex;flex-direction:column;align-items:flex-start;gap:14px;width:270px}
.field.two-col .label{text-align:left;margin:0}
.field.two-col .uploader{justify-self:center}
.label{font-weight:800}
.uploader{position:relative;border:1px dashed rgba(255,255,255,.22);border-radius:14px;background:linear-gradient(180deg,#0f1522,#0e1420);height:240px;display:grid;place-items:center;cursor:pointer;overflow:hidden}
.uploader.square{height:auto;aspect-ratio:1/1;width:270px}
.panel.right .canvas{width:100%;flex:1;position:relative;overflow:hidden}
.file-input{position:absolute;inset:0;opacity:0;cursor:pointer}
.drop-area{display:grid;place-items:center;text-align:center;color:var(--muted)}
/* Restore: ensure default drop-area layout untouched */
/* Refine uploader resets: match default uploader layout */
.uploader[data-role="refine"] .drop-area{position:static;display:grid;place-items:center;text-align:center;color:var(--muted)}
.uploader[data-role="refine"] .plus{position:static;transform:none;margin-bottom:6px}
.uploader[data-role="refine"] .hint{position:static;margin-top:0}
/* keep plus style intact; hint remains below via default flow */
.preview{position:absolute;inset:0;width:100%;height:100%;object-fit:contain;object-position:center;pointer-events:none}
.note,.prompt{width:100%;background:#0e1320;border:1px solid var(--border);border-radius:12px;color:var(--text);padding:1rem}
/* 约束提示词文本框的宽度，禁止水平拉伸，仅允许垂直方向调整 */
.prompt{min-width:100%;max-width:100%;min-height:100px;max-height:560px;overflow:auto;resize:vertical}
/* Main Prompt: default height 201px; resize range 100–258px */
.prompt{height:201px;min-height:100px;max-height:258px}

/* Fix: prompt focus ring clipped by overflow — draw inside */
.prompt:focus,.prompt:focus-visible{outline:0;border-color:rgba(255,255,255,.9);box-shadow:0 0 0 2px rgba(255,255,255,.9) inset}

.canvas{min-height:480px;border:1px dashed rgba(255,255,255,.18);border-radius:14px;background:linear-gradient(180deg,#111827,#0e141f);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;box-sizing:border-box;padding:0}
/* add inner padding on right panels to create 7px spacing around canvas without clipping */
.editor .panel.right .panel-inner,.refine .panel.right .panel-inner{padding:7px}
.canvas img{max-width:100%;max-height:100%;width:auto;height:auto;object-fit:contain;object-position:center;margin:0}
/* hover download button in bottom-right */
.canvas .dl-btn{position:absolute;right:14px;bottom:14px;width:42px;height:42px;border-radius:50%;border:none;background:linear-gradient(180deg,#ff5e66,#ff5e66);color:#fff;display:grid;place-items:center;font-weight:900;box-shadow:0 8px 24px rgba(255,94,102,.25),0 2px 10px rgba(0,0,0,.35);cursor:pointer;opacity:0.4;transition:opacity .3s ease;z-index:3}
.canvas .dl-btn[disabled]{opacity:.3;cursor:not-allowed;filter:grayscale(20%)}
.canvas .dl-btn:hover{opacity:1}
.placeholder{display:grid;place-items:center;text-align:center;color:var(--muted)}
.placeholder .icon{font-size:34px;margin-bottom:8px}
.placeholder .title{font-weight:800}
.placeholder .desc{max-width:40ch}
.prompt-actions{display:flex;gap:.7rem;margin-top:.8rem}
.get-image-actions{display:flex;flex-wrap:wrap;gap:.7rem;margin-top:1rem;width:270px}
.resolution-selector{display:flex;gap:12px;margin-top:23px;width:270px}
.resolution-btn{transition:all .2s ease}
.resolution-btn.active{background:var(--primary);color:#fff;font-weight:600}
.resolution-btn.active:hover{background:var(--primary-600)}

/* showcase section */
.showcase{padding:72px 0;background:var(--bg);min-height:90vh;display:flex;align-items:center}
.showcase .section-title{font-size:28px;margin:0 0 32px;text-align:center}
.showcase-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:clamp(18px,1.5vw,24px);max-width:min(1600px,96vw);margin:0 auto;justify-content:center}
.showcase-card{background:var(--panel);border:1px solid var(--border);border-radius:16px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04)}
.showcase-images{display:flex;gap:0;width:100%}
.showcase-img{flex:1;aspect-ratio:263/350;background-size:cover;background-position:center;border-right:1px solid var(--border)}
.showcase-img:last-child{border-right:none}
.showcase-img.img-1{background-image:linear-gradient(135deg,#4b5b8a,#1a2033)}
.showcase-img.img-2{background-image:linear-gradient(135deg,#6b5b8a,#221a33)}
.showcase-img.img-3{background-image:linear-gradient(135deg,#4b8a7c,#1a332d)}
.showcase-meta{padding:1.2rem 1.5rem}
.showcase-meta h4{margin:.1rem 0 .5rem;font-size:18px}
.showcase-meta p{margin:0;color:var(--muted);font-size:14px}

/* reviews section */
.reviews{padding:72px 0;background:var(--bg);min-height:70vh;display:flex;align-items:center}
.reviews .section-title{font-size:28px;margin:0 0 32px;text-align:center}
.reviews-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;max-width:1200px;margin:0 auto}
.review{display:flex;gap:12px;background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:14px}
.avatar{width:36px;height:36px;border-radius:50%;background:linear-gradient(180deg,#ffd2a6,#e3b56d)}
.author{font-weight:800;margin-bottom:4px}

/* faq */
.faq{padding:72px 0;background:var(--bg);min-height:90vh;display:flex;align-items:center}
.accordion{display:grid;gap:12px}
.acc-item{background:var(--surface);border:1px solid var(--border);border-radius:14px;overflow:hidden}
.acc-head{width:100%;display:flex;justify-content:space-between;align-items:center;background:transparent;color:var(--text);border:0;padding:16px 18px;font-weight:800;text-align:left;cursor:pointer}
.acc-head .chev{transition:transform .2s}
.acc-head[aria-expanded="true"] .chev{transform:rotate(180deg)}
.acc-panel{padding:0 18px 16px;color:var(--muted)}

/* footer */
.site-footer{border-top:1px solid var(--border);background:linear-gradient(180deg,transparent,rgba(255,255,255,.02));padding:18px 0;color:var(--muted)}
.footer-inner{display:flex;justify-content:space-between;align-items:center}
.footer-inner a{color:var(--muted);text-decoration:none;margin-left:12px}

/* responsive */
@media (max-width: 1920px){
  /* Full HD and below - scale elements to 0.75x */

  /* === Global Containers === */
  :root{--header-h:54px;}
  .container{width:min(1200px,96vw);}
  .editor .container,.refine .container,.upscale .container{width:min(989px,96vw);}
  .container.header-inner.nb-header{padding-inline:clamp(15px, calc(25vw - 96px), 264px);}

  /* === Navbar Brand === */
  .brand .logo{font-size:14px;}
  .logo-img{width:33px;height:33px;}
  .brand .name{font-size:1.024rem;}

  /* === Navbar Buttons === */
  .icon-btn{width:30px;height:30px;border-radius:8px;}
  .credits .coin{width:12px;height:12px;}
  .sign-in-btn{padding:0 .79rem;height:30px;}

  /* === Profile Menu === */
  .profile-popover{right:14px;top:48px;border-radius:9px;padding:9px 11px;min-width:165px;}
  .profile-popover .me-line{margin-bottom:6px;}
  .profile-popover .me-actions{gap:6px;}

  /* === Auth Modal === */
  .auth-card{width:min(420px,92vw);border-radius:14px;padding:21px 21px 18px;gap:9px;}
  .auth-logo{font-size:21px;}
  .auth-title{margin:3px 0 0;font-size:20px;}
  .auth-sub{margin:0 0 6px;}
  .auth-tabs{gap:21px;margin:5px 0 5px;}
  .auth-tab{padding:6px 5px;}
  .auth-pane{gap:8px;margin-top:5px;}
  .auth-label{font-size:11px;}
  .auth-input{height:36px;border-radius:9px;padding:0 9px;}
  .auth-close{right:8px;top:8px;border-radius:8px;width:24px;height:24px;}
  .auth-tip{font-size:9px;}
  .spinner{width:12px;height:12px;margin-right:6px;}
  .auth-back-btn{padding:6px 0;margin-bottom:9px;font-size:11px;gap:5px;}
  .back-arrow{font-size:14px;}
  .auth-success-banner{border-radius:9px;padding:12px;margin-bottom:12px;gap:9px;}
  .success-icon{width:18px;height:18px;font-size:12px;}
  .success-text{font-size:11px;}
  .auth-expire-tip{margin-top:3px;margin-bottom:9px;font-size:9px;}
  .auth-consent{margin:8px 0 0;font-size:9px;}

  /* === Global Buttons === */
  .btn{padding:.71rem .86rem;font-size:.71rem;}
  .btn-small{padding:.45rem .75rem;font-size:.64rem;}

  /* Hero layout */
  .hero-left{flex:0 0 48%;max-width:48%;}
  .hero-right{flex:0 0 50%;max-width:50%;padding:54px 0 23px;}
  .hero-bg-image{object-position:calc(50% + 13vh) center;}

  /* Hero content spacing */
  .hero-copy{
    padding-top:16vh;
    padding-left:clamp(36px,6vw,66px);
    padding-right:clamp(36px,6vw,66px);
    padding-bottom:5px;
  }

  /* Badge */
  .badge{padding:.375rem .675rem;margin-bottom:17px;font-size:.71rem;}

  /* Typography spacing and sizes */
  .hero-title{margin:0 0 14px;font-size:clamp(30px,5.5vw,48px);}
  .hero-sub{margin:0 0 27px;max-width:450px;font-size:0.86rem;}

  /* Actions and buttons */
  .hero-actions{gap:0.9rem;margin:0 0 14px;}
  .hero-actions .btn{padding:0.79rem 1.09rem;font-size:0.75rem;}

  /* Features list */
  .hero-features{gap:20px;margin:14px 0 0;font-size:0.75rem;}
  .hero-features li{gap:5px;}

  /* CTA */
  .hero-cta-inner{gap:8px;}
  .hero-cta-text{font-size:clamp(14px,2vw,20px);}
  .arrow-down{font-size:clamp(18px,3.2vw,27px);}

  /* === Editor/Refine/Upscale Sections === */
  .editor,.refine,.upscale{padding:54px 0;}

  .section-header{margin:0 auto 36px;max-width:900px;}
  .section-header .badge{padding:.45rem .75rem;font-size:0.75rem;margin-bottom:18px;}
  .section-title{font-size:clamp(23px,4vw,35px);margin:0 0 15px;}
  .section-subtitle{font-size:0.94rem;max-width:525px;}

  .editor-grid,.refine-grid,.upscale-grid{gap:var(--editor-gap,27px);}
  .editor-grid{--editor-gap:15px;}
  .refine-grid{--editor-gap:15px;}
  .upscale-grid{--editor-gap:15px;}

  .panel{border-radius:12px;padding:15px 15px 17px;}
  .panel{height:714px;}
  .panel.right{height:703px;}
  .left-wrap{height:703px;}

  .panel .panel-bar{height:48px;margin:-15px -15px 9px;padding:0 15px;border-radius:12px;}
  .editor .panel.left .panel-bar,
  .refine .panel.left .panel-bar{margin-bottom:29px;}
  .editor .panel.right .panel-bar{margin-bottom:17px;}
  .refine .panel.right .panel-bar{margin-bottom:17px;}

  .panel-head h2{font-size:23px;}
  .panel-head h3{font-size:17px;}

  .field{gap:8px;margin:14px 0;}
  .field.two-col{gap:11px;width:203px !important;}
  .refine .refine-form{width:203px;gap:9px;}
  .panel.left .panel-inner .field .label,.panel.left .panel-inner .refine-form .label{width:203px !important;}
  .panel.left .panel-inner .refine-form .prompt{width:203px !important;max-width:203px !important;min-width:203px !important;}
  .panel.left .panel-inner .refine-form .prompt-actions{width:203px !important;}

  .uploader{border-radius:11px;height:180px;font-size:0.75rem;}
  .uploader.square{width:203px !important;}
  .panel.left .panel-inner .uploader{width:203px !important;margin:0 auto;}
  .uploader .drop-area{font-size:0.75rem;}
  .uploader .drop-area .plus{font-size:32px;margin-bottom:5px;}
  .uploader[data-role="refine"] .plus{margin-bottom:5px;}
  .uploader .hint{font-size:0.75rem;}
  .uploader[tabindex]:hover .plus::before{font-size:10px !important;}

  .note,.prompt{border-radius:9px;padding:0.75rem;}
  .prompt{height:151px;min-height:75px;max-height:194px;}

  .canvas{min-height:360px;border-radius:11px;}
  .editor .panel.right .panel-inner,.refine .panel.right .panel-inner{padding:5px;}
  .canvas .dl-btn{right:11px;bottom:11px;width:32px;height:32px;}

  .placeholder .icon{font-size:26px;margin-bottom:6px;}

  .prompt-actions{gap:.525rem;margin-top:.6rem;}
  .get-image-actions{gap:.525rem;margin-top:.75rem;width:203px;}
  .resolution-selector{gap:9px;margin-top:17px;width:203px;}

  .step1-cta{padding:12px 0 0;margin-top:calc(var(--editor-gap,27px) - 11px);}
  .step1-cta .btn{border-radius:9px;height:54px;}
  .step2-cta,.step3-cta{padding:12px 0 0;margin-top:calc(var(--editor-gap,27px) - 11px);}
  .step2-cta .btn,.step3-cta .btn{border-radius:9px;height:54px;}

  /* === Showcase Section === */
  .showcase{padding:54px 0;}
  .showcase .section-title{font-size:21px;margin:0 0 24px;}
  .showcase-card{border-radius:12px;}
  .showcase-meta{padding:0.9rem 1.125rem;}
  /* Text keeps original size - no scaling */
  .showcase-meta h4{font-size:18px;}
  .showcase-meta p{font-size:14px;}

  /* === Reviews Section === */
  .reviews{padding:54px 0;}
  .reviews .section-title{font-size:21px;margin:0 0 24px;}
  .reviews-grid{gap:14px;max-width:900px;}
  .review{gap:9px;border-radius:11px;padding:11px;}
  .avatar{width:27px;height:27px;}
  .author{margin-bottom:3px;}

  /* === FAQ Section === */
  .faq{padding:54px 0;}
  .faq .container{max-width:1200px;}
  .faq .section-header{max-width:1200px;text-align:left;}
  .faq .section-title{text-align:left;}
  .accordion{gap:9px;max-width:1200px;margin:0 auto;}
  .acc-item{border-radius:11px;}
  .acc-head{padding:12px 14px;}
  .acc-panel{padding:0 14px 12px;}

  /* === Footer === */
  .site-footer{padding:14px 0;}
  .footer-inner a{margin-left:9px;}

  /* === Navbar === */
  .nb-left{gap:9px;}
  .nb-center{gap:24px;}
  .nb-center .nav-link{font-size:11px;}
  .nb-right{gap:11px;}
  .nb-left .nav-link{padding:.3rem .3rem;border-radius:8px;}
  .pill{gap:5px;padding:0 .6rem;height:30px;}
  .btn-launch{padding:0 .79rem;height:30px;}

  /* === Additional text elements in sections === */
  .panel .bar-title{font-size:0.75rem;}
  .placeholder .title{font-size:0.75rem;}
  .placeholder .desc{font-size:0.75rem;}
  .panel-head p{font-size:0.75rem;}
  .review{font-size:0.75rem;}
  .acc-head{font-size:0.75rem;}
  .acc-panel{font-size:0.75rem;}
}
@media (max-width: 1700px){
  /* Showcase keeps 2-column layout with dynamic scaling */

  /* Navbar layout adjustments for MacBook Pro and medium screens */
  .container.header-inner.nb-header{padding-inline:clamp(12px, 2vw, 24px)}
  .nb-left{margin-left:clamp(60px, 8vw, 120px)}
  .nb-right{margin-right:clamp(60px, 8vw, 120px)}
  .nb-center{gap:20px}
  .nb-right{gap:8px}
  .nb-center .nav-link{font-size:14px}

  /* Hero section refinements for 16:9 desktops */
  .hero-split .hero-container{
    max-width:min(1480px,94vw);
    margin:0 auto;
    padding-inline:clamp(32px,5vw,72px);
    gap:clamp(24px,4vw,56px);
  }
  .hero-left{flex:0 0 50%;max-width:50%;}
  .hero-right{flex:0 0 50%;max-width:50%;padding:clamp(48px,7vw,92px) 0 30px;}
  .hero-bg-image{object-position:calc(50% + 8vh) center;}
  .hero-copy{
    max-width:580px;
    padding:10vh 0 5px;
  }

  /* Match text sizes with 1700-1920px range */
  .badge{margin-bottom:17px;font-size:.71rem;}
  .hero-title{margin:0 0 14px;font-size:clamp(30px,5.5vw,48px);}
  .hero-sub{margin:0 0 27px;font-size:0.86rem;}
  .hero-actions{gap:clamp(16px,2.5vw,28px);flex-wrap:wrap;margin:0 0 14px;}
  .hero-actions .btn{padding:0.79rem 1.09rem;font-size:0.75rem;}
  .hero-features{gap:18px;margin:14px 0 0;font-size:0.75rem;}
  .hero-cta-inner{gap:8px;}
  .hero-cta-text{font-size:clamp(14px,2vw,20px);}
  .arrow-down{font-size:clamp(18px,3.2vw,27px);}
}
@media (max-width: 1400px){
  /* Additional compression for smaller MacBook screens */
  .nb-left{margin-left:clamp(80px, 10vw, 140px)}
  .nb-right{margin-right:clamp(80px, 10vw, 140px)}
  .nb-center{gap:16px}
  .nb-right{gap:6px}
  .nb-center .nav-link{font-size:13px}
  .btn-launch{padding:8px 16px;font-size:14px}
  .pill.credits{display:none !important}
  /* TEST: Make navbar background red to confirm CSS is loaded */
  .site-header{background:rgba(255,0,0,0.3) !important}
}
@media (max-width: 1100px){
  .nb-center{gap:14px}
  .hero-inner{grid-template-columns:1fr}
  .reviews-grid{grid-template-columns:1fr 1fr}
}
@media (max-width: 850px){
  /* Switch to single column for mobile */
  .showcase-grid{grid-template-columns:1fr;max-width:100%}
  .showcase-card{max-width:100%}
  .showcase-images{flex-direction:column;width:100%}
  .showcase-img{width:100%;aspect-ratio:auto;height:280px}
}
@media (max-width: 680px){
  .nb-center .nav-link{display:none}
  .dropdown{display:none}
  .hero-title{font-size:40px}
  .editor-grid,.refine-grid,.upscale-grid{grid-template-columns:1fr}
  .reviews-grid{grid-template-columns:1fr}
}

/* Reduce spacing between Character Reference and Garment Reference in Prompt Engine */
.editor .panel.left .panel-inner .field.two-col:nth-of-type(2){
  margin-top: -1px;
}

/* Restore original alignment for left panels */
.panel.left .panel-inner{align-items:flex-start}
.refine .panel.left .panel-inner{align-items:flex-start}

/* Restore classic plus sign style for all uploaders */
.uploader .drop-area .plus{font-size:42px;color:var(--primary);margin-bottom:6px;font-weight:400;position:relative}

.panel.left .panel-inner{align-items:center}
.panel.left .panel-inner .field,.panel.left .panel-inner .field.two-col,.panel.left .panel-inner .refine-form{width:100%;display:flex;flex-direction:column;align-items:center}
.panel.left .panel-inner .field .label,.panel.left .panel-inner .refine-form .label{width:270px;text-align:left}
.panel.left .panel-inner .uploader{width:270px;margin:0 auto}
.panel.left .panel-inner .refine-form .prompt{width:270px;max-width:270px;min-width:270px}
.panel.left .panel-inner .refine-form .prompt-actions{width:270px}



/* ========================================
   LIGHT THEME OVERRIDES
   ======================================== */

/* Header adjustments for light mode */
[data-theme="light"] .site-header{
  background:rgba(255,255,255,.85);
  border-bottom:1px solid var(--border);
}

/* Icon buttons and inputs in light mode */
[data-theme="light"] .icon-btn{
  background:linear-gradient(180deg,rgba(0,0,0,.03),rgba(0,0,0,.01));
  border-color:var(--border);
}

[data-theme="light"] .icon-btn:hover{
  background:linear-gradient(180deg,rgba(0,0,0,.06),rgba(0,0,0,.03));
}

/* Pills in light mode */
[data-theme="light"] .pill{
  border-color:rgba(0,0,0,.15);
}

/* Auth card and modals */
[data-theme="light"] .auth-card{
  background:var(--surface);
  border-color:var(--border);
  box-shadow:0 20px 60px rgba(0,0,0,.15);
}

[data-theme="light"] .auth-input{
  background:var(--panel);
  border-color:var(--border);
}

[data-theme="light"] .profile-popover{
  background:rgba(255,255,255,.98);
  border-color:var(--border);
  box-shadow:0 10px 30px rgba(0,0,0,.15);
}

/* Panels and cards */
[data-theme="light"] .panel{
  background:var(--surface);
  border-color:var(--border);
}

[data-theme="light"] .canvas{
  background:var(--panel);  /* lighter: #fafbfc */
  border-color:var(--border);
}

/* Input upload areas - slightly darker than canvas */
[data-theme="light"] .uploader{
  background:#eef1f5;  /* slightly darker than canvas */
}

[data-theme="light"] .uploader .drop-area{
  background:#eef1f5;  /* match uploader background */
  border-color:var(--border);
}

[data-theme="light"] .uploader .drop-area:hover{
  border-color:var(--primary);
  background:rgba(255,94,102,.05);
}

/* Form elements */
[data-theme="light"] input,
[data-theme="light"] textarea,
[data-theme="light"] select{
  background:var(--panel);
  border-color:var(--border);
  color:var(--text);
}

/* Section backgrounds - solid color for editor sections, hero keeps gradient */
[data-theme="light"] .editor,
[data-theme="light"] .refine,
[data-theme="light"] .upscale{
  background:var(--bg);  /* solid background color, no gradient */
}

/* Shadow adjustments for light mode */
[data-theme="light"] .btn-launch{
  box-shadow:0 6px 18px rgba(255,94,102,.20);
}

[data-theme="light"] .profile-btn{
  box-shadow:0 1px 0 rgba(255,255,255,.35) inset,
             0 2px 4px rgba(0,0,0,.1);
}

/* Badge text color in light mode */
[data-theme="light"] .badge{
  color:#1a202c;
  background:rgba(255,94,102,.08);
  border-color:rgba(255,94,102,.25);
}

[data-theme="light"] .section-header .badge{
  color:#1a202c;
  background:rgba(228,192,122,.10);
  border-color:rgba(228,192,122,.30);
}

/* Credits display in light mode */
[data-theme="light"] .credits .amount{
  color:#1a202c;  /* dark color for numbers */
}

[data-theme="light"] .credits .unit{
  color:#64748b;  /* muted dark color for "credits" text */
}

/* Fix button shadow clipping in prompt-actions */
.prompt-actions{
  overflow: visible;
  padding-bottom: 8px;  /* Extra space to ensure shadow isn't clipped */
}

/* Clipboard Paste Support */
.uploader[tabindex] {
  transition: border-color 0.2s;
}

.uploader[tabindex]:focus {
  border-color: rgba(228, 192, 122, 0.8);
  outline: none;
}

/* Hover text hint for paste */
.uploader[tabindex]:hover .plus {
  color: transparent;
}

.uploader[tabindex]:hover .plus::before {
  content: 'Click or paste (Ctrl+V)';
  font-size: 13px;
  font-weight: 500;
  color: var(--primary);
  white-space: nowrap;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  margin-top: 3px;
}
