:root{
  --bg:#0a0d12;          /* deep charcoal */
  --surface:#0f141b;     /* darker surface */
  --panel:#0f1622;       /* panel tone */
  --card:#121a2a;        /* card tone */
  --text:#e8edf6;        /* bright text */
  --muted:#aab4c6;       /* soft muted */
  --primary:#ff5e66;     /* coral */
  --primary-600:#e24b55; /* deeper coral */
  --border:rgba(255,255,255,.08);
  --header-h:72px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:'Inter',system-ui,-apple-system,"Segoe UI",Roboto,Arial,"Noto Sans",sans-serif;
  background:radial-gradient(800px 360px at 20% 10%,rgba(255,94,102,.10),transparent 60%),
             radial-gradient(900px 420px at 80% -5%,rgba(124,134,211,.10),transparent 60%),
             var(--bg);
  color:var(--text);
}
/* auth page: lock scrolling */
body.no-scroll{overflow:hidden}
.container{width:min(1600px,96vw);margin:0 auto}
.editor .container{width:min(1318px,96vw)}
/* Step2 使用与 Step1 一致的容器宽度 */
.refine .container{width:min(1318px,96vw)}
.container.header-inner.nb-header{width:100%;max-width:none;padding-inline:clamp(20px, calc(25vw - 128px), 352px)}

/* header */
.site-header{position:sticky;top:0;z-index:60;background:rgba(11,15,20,.6);backdrop-filter:blur(10px);border-bottom:1px solid var(--border);height:var(--header-h)}
.header-inner{display:flex;align-items:center;justify-content:space-between;height:100%;padding:0}

/* NB-style nav */
.nb-header{display:flex;align-items:center;justify-content:space-between;padding:0;width:100%;position:relative}
.nb-left{display:flex;align-items:center;gap:12px}
.nb-center{display:flex;align-items:center;gap:32px;position:absolute;left:50%;transform:translateX(-50%)}
.brand{display:flex;align-items:center;gap:.6rem;font-weight:800}
.brand .logo{font-size:18px;filter:drop-shadow(0 0 0 rgba(0,0,0,0))}
.logo-img{width:44px;height:44px;display:block}
.brand .name{font-size:1.365rem;letter-spacing:.2px;color:var(--text);font-weight:800}
.nb-left .nav-link{color:var(--text);text-decoration:none;font-weight:600;opacity:.9;padding:.4rem .4rem;border-radius:10px;transition:opacity .15s ease}
.nb-left .nav-link:hover{opacity:1}

/* center nav links */
.nb-center .nav-link{color:var(--text);text-decoration:none;font-weight:800;opacity:.92}
.nb-center .nav-link:hover{opacity:1;text-decoration:none}

/* ensure all nav links never fall back to default blue/underline */
.nav-link{color:var(--text);text-decoration:none}
.nav-link:visited{color:var(--text)}
.nav-link:hover{text-decoration:none}

/* dropdown styles removed */

.nb-right{display:flex;align-items:center;gap:14px;position:relative}
.icon-btn{display:inline-grid;place-items:center;width:36px;height:36px;border-radius:10px;border:1px solid var(--border);background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));color:var(--text);cursor:pointer}
.pill{display:inline-flex;align-items:center;gap:6px;padding:.4rem .8rem;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:transparent;color:var(--text);font-weight:700}
.pill .chev{opacity:.9}
.btn-launch{display:inline-flex;align-items:center;justify-content:center;padding:.7rem 1.05rem;border-radius:999px;text-decoration:none;color:#fff;font-weight:900;border:1px solid rgba(255,94,102,.45);background:linear-gradient(180deg,#ff5e66,#ff5e66);box-shadow:0 6px 18px rgba(255,94,102,.25)}
.credits{border-color:rgba(255,94,102,.25);background:rgba(255,94,102,.08)}
.credits .coin{display:inline-grid;place-items:center;width:16px;height:16px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#ffd3d6,#ff5e66);box-shadow:inset 0 0 0 1px rgba(0,0,0,.25)}
.credits .amount{font-weight:900;color:#fff}
.credits .unit{color:#ff9aa1;font-weight:800}
.avatar{width:36px;height:36px;border-radius:50%;display:inline-grid;place-items:center;background:#2f6b28;color:#e9ffd9;font-weight:900}
.profile-btn{background:linear-gradient(180deg,#ffd2a6,#e3b56d);color:#1a1f2b;border:1px solid rgba(0,0,0,.25);box-shadow:0 1px 0 rgba(255,255,255,.25) inset}
.profile-popover{position:absolute;right:18px;top:64px;background:rgba(15,20,27,.95);border:1px solid var(--border);border-radius:12px;padding:12px 14px;min-width:220px;z-index:50;box-shadow:0 10px 30px rgba(0,0,0,.35)}
.profile-popover .me-line{color:#a3aec2;margin-bottom:8px}
.profile-popover .me-actions{display:flex;gap:8px}

/* Sign In button: same footprint as Launch Now, without stroke */
.sign-in-btn{padding:.7rem 1.05rem;border-radius:999px;border:0}
.btn.primary.sign-in-btn{border:0 !important}

/* Auth visibility guard (CSS-level, no闪烁) */
html[data-auth="on"] .sign-in-btn{display:none !important}
html[data-auth="on"] .profile-btn{display:inline-grid !important}
html:not([data-auth="on"]) .sign-in-btn{display:inline-flex !important}
html:not([data-auth="on"]) .profile-btn{display:none !important}

/* Auth modal */
.auth-modal{position:fixed;inset:0;display:grid;place-items:center;z-index:999}
.auth-modal[hidden]{display:none !important}
.auth-backdrop{position:absolute;inset:0;background:transparent;backdrop-filter:none;cursor:pointer}
.auth-card{position:relative;width:min(560px,92vw);border-radius:18px;padding:28px 28px 24px;background:#18202b;border:1px solid var(--border);box-shadow:0 20px 60px rgba(0,0,0,.45);display:flex;flex-direction:column;align-items:center;gap:12px;z-index:1000}
.auth-logo{font-size:28px}
.auth-title{margin:4px 0 0;font-size:26px}
.auth-sub{margin:0 0 8px;color:#a3aec2}
.auth-tabs{display:flex;gap:28px;margin:6px 0 6px}
.auth-tab{background:transparent;border:0;color:#a3aec2;cursor:pointer;padding:8px 6px}
.auth-tab.active{color:#ffcc66;border-bottom:2px solid #ffcc66;border-radius:0}
.auth-pane{width:100%;display:none;flex-direction:column;gap:10px;margin-top:6px}
.auth-pane.active{display:flex}
.auth-label{align-self:flex-start;color:#a3aec2;font-size:14px}
.auth-input{width:100%;height:48px;border-radius:12px;border:1px solid var(--border);background:#0e1320;color:var(--text);padding:0 12px}
.auth-close{position:absolute;right:10px;top:10px;border:1px solid var(--border);background:transparent;border-radius:10px;color:var(--text);width:32px;height:32px;cursor:pointer;z-index:1001}
.auth-google-btn{width:100%;}
.auth-tip{margin:0;color:#a3aec2;font-size:12px}

/* Loading spinner for auth buttons */
.spinner {
  display: inline-block;
  width: 16px;
  height: 16px;
  margin-right: 8px;
  border: 2px solid rgba(255,255,255,0.3);
  border-top-color: #fff;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
  vertical-align: middle;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Auth back button */
.auth-back-btn {
  align-self: flex-start;
  background: transparent;
  border: none;
  color: var(--primary);
  font-weight: 600;
  cursor: pointer;
  padding: 8px 0;
  margin-bottom: 12px;
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: opacity 0.2s;
}
.auth-back-btn:hover {
  opacity: 0.8;
}
.back-arrow {
  font-size: 18px;
}

/* Success banner */
.auth-success-banner {
  background: rgba(76, 175, 80, 0.15);
  border: 1px solid rgba(76, 175, 80, 0.3);
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 12px;
}
.success-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: #4CAF50;
  color: white;
  font-weight: 900;
  font-size: 16px;
  flex-shrink: 0;
}
.success-text {
  margin: 0;
  color: #a3ffa8;
  font-size: 14px;
  line-height: 1.4;
}
.success-text #sent-email {
  color: #ffcc66;
  font-weight: 600;
}

/* Expire tip */
.auth-expire-tip {
  margin-top: 4px;
  margin-bottom: 12px;
  color: #8ea0b8;
  font-size: 12px;
}
.auth-consent{margin:10px 0 0;color:#8ea0b8;font-size:12px}
.auth-consent a{color:#c3d6ff;text-decoration:underline}

/* auth page: hide all site chrome (navbar, main, footer) -> 留空底色背景 */
html[data-authpage="1"] .site-header,
html[data-authpage="1"] .site-footer{display:none !important}
/* 仅隐藏 main 下除登录弹窗外的所有内容，保留纯背景与弹窗 */
html[data-authpage="1"] main > *:not(.auth-modal){display:none !important}

.btn{display:inline-flex;align-items:center;justify-content:center;padding:.95rem 1.15rem;border-radius:999px;border:1px solid var(--border);font-weight:800;color:var(--text);text-decoration:none;background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));transition:.2s;font-size:.95rem;box-shadow:0 2px 14px rgba(0,0,0,.35)}
.btn:hover{transform:translateY(-1px)}
.btn.primary{background:linear-gradient(180deg,#ff5e66,#ff5e66);color:#fff;border-color:rgba(255,94,102,.45);box-shadow:0 8px 24px rgba(255,94,102,.25),0 2px 10px rgba(0,0,0,.35)}
.btn.ghost{background:transparent}
.btn.full{width:100%}
.btn-small{padding:.6rem 1rem;border-radius:9999px;font-size:.85rem;font-weight:400}

/* hero */
.hero{min-height:calc(100vh - var(--header-h));display:grid;place-items:center;padding:72px 0 56px;position:relative}
.hero-centered{display:grid;place-items:center;text-align:center}
.badge{display:inline-flex;padding:.5rem .9rem;border-radius:999px;border:1px solid rgba(255,94,102,.35);background:rgba(255,94,102,.14);color:#ffe9ec;font-weight:800;font-size:.95rem;margin-bottom:22px}
.hero-title{font-size:clamp(48px,7.5vw,80px);line-height:1.14;margin:0 0 18px;font-weight:900;letter-spacing:-0.015em}
.hero-sub{color:var(--muted);margin:0 auto 36px;max-width:820px;font-size:1.25rem;line-height:2.05;letter-spacing:.01em}
.hero-actions{display:flex;gap:1.2rem;margin:0 auto 18px;justify-content:center}
.hero-actions .btn{border-radius:999px;padding:1.05rem 1.45rem;font-size:1rem}
.hero-features{display:flex;gap:26px;justify-content:center;margin:18px 0 0;color:var(--muted);padding:0;list-style:none;font-size:1rem;letter-spacing:.01em}
.hero-features li{display:flex;gap:6px;align-items:center;line-height:1.6}
.hero-cta{position:absolute;left:50%;bottom:32px;transform:translateX(-50%);display:flex;flex-direction:column;align-items:center;gap:10px;margin-top:0}
.hero-cta-text{font-size:clamp(18px,2vw,26px);font-weight:900;letter-spacing:-0.01em;color:var(--text);text-decoration:none;transition:opacity 0.2s}
.hero-cta-text:hover{opacity:0.8;text-decoration:none}
.scroll-indicator{display:flex;justify-content:center;align-items:center}
.arrow-down{font-size:clamp(24px,3.2vw,36px);color:var(--muted);animation:arrowBounce 2s infinite}
@keyframes bounce{
  0%,20%,50%,80%,100%{transform:translateY(0)}
  40%{transform:translateY(-6px)}
  60%{transform:translateY(-3px)}
}
@keyframes arrowBounce{
  0%,20%,50%,80%,100%{transform:translateY(0) scaleX(1.6)}
  40%{transform:translateY(-6px) scaleX(1.6)}
  60%{transform:translateY(-3px) scaleX(1.6)}
}

/* editor panels */
.editor,.refine{padding:72px 0;background:var(--bg);min-height:110vh;display:flex;flex-direction:column;justify-content:center;align-items:center}
.section-header{text-align:center;margin:0 auto 48px;max-width:1200px}
.section-header .badge{display:inline-flex;padding:.6rem 1rem;border-radius:999px;border:1px solid rgba(228,192,122,.42);background:rgba(228,192,122,.16);color:#fff0cf;font-weight:700;font-size:1rem;margin-bottom:24px}
.section-title{font-size:clamp(30px,4vw,47px);line-height:1.1;margin:0 0 20px;font-weight:900;letter-spacing:-0.02em;color:var(--text)}
.section-subtitle{color:var(--muted);margin:0 auto;font-size:1.25rem;line-height:1.5;letter-spacing:.01em;max-width:700px}
/* removed step1 custom layout */
.editor-grid,.refine-grid{display:grid;gap:var(--editor-gap,36px)}
.editor-grid{grid-template-columns:1fr 3fr;--editor-gap:20px}
.refine-grid{grid-template-columns:1fr 3fr;--editor-gap:20px}
.panel{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:20px 20px 22px;box-shadow:0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04)}
.panel{height:952px;display:flex;flex-direction:column}
/* ensure right panel never shows overflow */
.panel.right{overflow:hidden;height:937px}
.left-wrap{display:flex;flex-direction:column;height:937px}
.left-wrap .panel{height:auto;flex:1}
.step1-cta{padding:16px 0 0;margin-top:calc(var(--editor-gap,36px) - 15px)}
.step1-cta .btn{border-radius:12px;width:100%;height:72px;background:linear-gradient(180deg,#ff5e66,#ff5e66);color:#fff;border:1px solid rgba(255,94,102,.35);box-shadow:0 8px 24px rgba(255,94,102,.25)}
/* Step2 CTA 与 Step1 一致 */
.step2-cta{padding:16px 0 0;margin-top:calc(var(--editor-gap,36px) - 15px)}
.step2-cta .btn{border-radius:12px;width:100%;height:72px;background:linear-gradient(180deg,#ff5e66,#ff5e66);color:#fff;border:1px solid rgba(255,94,102,.35);box-shadow:0 8px 24px rgba(255,94,102,.25)}
.editor-grid{align-items:stretch}
.refine-grid{align-items:stretch}
.left-wrap,.panel.right{align-self:stretch}
/* 对齐底部：让 CTA 的底边与右侧面板底边一致 */
.editor-grid{grid-auto-rows:1fr}
.panel .panel-inner{display:flex;flex-direction:column;gap:20px;flex:1;justify-content:flex-start;align-items:flex-start;overflow:hidden}
/* 左侧面板：让两块输入区域整体在面板中靠上且左对齐 */
.panel.left .panel-inner{align-items:flex-start}
/* Step2 左侧表单宽度与 Step1 左列一致并靠上显示 */
.refine .panel.left .panel-inner{align-items:flex-start}
.refine .refine-form{width:270px;display:flex;flex-direction:column;gap:12px}
/* 右侧面板内元素拉伸，避免画布被挤瘦 */
.panel.right .panel-inner{align-items:stretch}
.panel .panel-bar{height:64px;display:flex;align-items:center;margin:-20px -20px 12px;padding:0 20px;background:linear-gradient(135deg,rgba(159,176,203,.08),rgba(255,255,255,.03));border-bottom:1px solid rgba(159,176,203,.22);border-top-left-radius:16px;border-top-right-radius:16px}
/* extra spacing below titles for left panels */
.editor .panel.left .panel-bar,
.refine .panel.left .panel-bar{ margin-bottom: 38px; }
/* add 7px spacing above Output Gallery canvas */
.editor .panel.right .panel-bar{ margin-bottom: 22px; }
.refine .panel.right .panel-bar{ margin-bottom: 22px; }
.panel .bar-title{font-weight:900;color:#ffcc99}
.panel-head h2{margin:.1rem 0 .35rem;font-size:30px}
.panel-head h3{margin:.1rem 0 .2rem;font-size:22px}
.panel-head p{margin:0;color:var(--muted)}

.field{display:flex;flex-direction:column;gap:10px;margin:18px 0}
.field.two-col{display:flex;flex-direction:column;align-items:flex-start;gap:14px;width:270px}
.field.two-col .label{text-align:left;margin:0}
.field.two-col .uploader{justify-self:center}
.label{font-weight:800}
.uploader{position:relative;border:1px dashed rgba(255,255,255,.22);border-radius:14px;background:linear-gradient(180deg,#0f1522,#0e1420);height:240px;display:grid;place-items:center;cursor:pointer;overflow:hidden}
.uploader.square{height:auto;aspect-ratio:1/1;width:270px}
.panel.right .canvas{height:100%;width:100%;flex:1;position:relative;overflow:hidden}
.file-input{position:absolute;inset:0;opacity:0;cursor:pointer}
.drop-area{display:grid;place-items:center;text-align:center;color:var(--muted)}
/* Restore: ensure default drop-area layout untouched */
/* Refine uploader resets: match default uploader layout */
.uploader[data-role="refine"] .drop-area{position:static;display:grid;place-items:center;text-align:center;color:var(--muted)}
.uploader[data-role="refine"] .plus{position:static;transform:none;margin-bottom:6px}
.uploader[data-role="refine"] .hint{position:static;margin-top:0}
/* keep plus style intact; hint remains below via default flow */
.preview{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;pointer-events:none}
.note,.prompt{width:100%;background:#0e1320;border:1px solid var(--border);border-radius:12px;color:var(--text);padding:1rem}
/* 约束提示词文本框的宽度，禁止水平拉伸，仅允许垂直方向调整 */
.prompt{min-width:100%;max-width:100%;min-height:100px;max-height:560px;overflow:auto;resize:vertical}
/* Main Prompt: default height 201px; resize range 100–258px */
.prompt{height:201px;min-height:100px;max-height:258px}

/* Fix: prompt focus ring clipped by overflow — draw inside */
.prompt:focus,.prompt:focus-visible{outline:0;border-color:rgba(255,255,255,.9);box-shadow:0 0 0 2px rgba(255,255,255,.9) inset}

.canvas{min-height:480px;border:1px dashed rgba(255,255,255,.18);border-radius:14px;background:linear-gradient(180deg,#111827,#0e141f);display:grid;place-items:center;position:relative;overflow:hidden}
/* add inner padding on right panels to create 7px spacing around canvas without clipping */
.editor .panel.right .panel-inner,.refine .panel.right .panel-inner{padding:7px}
.canvas img{position:relative;max-width:100%;max-height:100%;width:auto;height:auto;object-fit:contain;object-position:center;display:block;margin:auto}
/* hover download button in bottom-right */
.canvas .dl-btn{position:absolute;right:14px;bottom:14px;width:42px;height:42px;border-radius:50%;border:1px solid rgba(255,255,255,.22);background:linear-gradient(180deg,#ff5e66,#ff5e66);color:#fff;display:grid;place-items:center;font-weight:900;box-shadow:0 8px 24px rgba(255,94,102,.25),0 2px 10px rgba(0,0,0,.35);cursor:pointer;opacity:1;transform:none;transition:opacity .15s ease, transform .15s ease;z-index:3}
.canvas .dl-btn[disabled]{opacity:.5;cursor:not-allowed;filter:grayscale(20%)}
.canvas:hover .dl-btn{opacity:1;transform:translateY(0)}
.canvas .dl-btn:hover{filter:brightness(1.05)}
.placeholder{display:grid;place-items:center;text-align:center;color:var(--muted)}
.placeholder .icon{font-size:34px;margin-bottom:8px}
.placeholder .title{font-weight:800}
.placeholder .desc{max-width:40ch}
.prompt-actions{display:flex;gap:.7rem;margin-top:.8rem}

/* showcase & reviews combined */
.showcase-reviews{padding:72px 0;background:var(--bg);min-height:90vh;display:flex;align-items:center}
.showcase-section{margin-bottom:60px}
.showcase-section .section-title{font-size:28px;margin:0 0 18px}
.reviews-section .section-title{font-size:28px;margin:0 0 18px}
.cards{display:grid;grid-template-columns:repeat(4,1fr);gap:18px}
.shot{background:var(--panel);border:1px solid var(--border);border-radius:16px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04)}
.thumb{aspect-ratio:16/10;background-size:cover;background-position:center}
.t1{background-image:linear-gradient(135deg,#4b5b8a,#1a2033)}
.t2{background-image:linear-gradient(135deg,#6b5b8a,#221a33)}
.t3{background-image:linear-gradient(135deg,#4b8a7c,#1a332d)}
.t4{background-image:linear-gradient(135deg,#4b6a8a,#0f243a)}
.meta{padding:1rem}
.meta h4{margin:.1rem 0 .35rem}
.meta p{margin:0;color:var(--muted)}

/* reviews */
.reviews-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
.review{display:flex;gap:12px;background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:14px}
.avatar{width:36px;height:36px;border-radius:50%;background:linear-gradient(180deg,#ffd2a6,#e3b56d)}
.author{font-weight:800;margin-bottom:4px}

/* faq */
.faq{padding:72px 0;background:var(--bg);min-height:90vh;display:flex;align-items:center}
.accordion{display:grid;gap:12px}
.acc-item{background:var(--surface);border:1px solid var(--border);border-radius:14px;overflow:hidden}
.acc-head{width:100%;display:flex;justify-content:space-between;align-items:center;background:transparent;color:var(--text);border:0;padding:16px 18px;font-weight:800;text-align:left;cursor:pointer}
.acc-head .chev{transition:transform .2s}
.acc-head[aria-expanded="true"] .chev{transform:rotate(180deg)}
.acc-panel{padding:0 18px 16px;color:var(--muted)}

/* footer */
.site-footer{border-top:1px solid var(--border);background:linear-gradient(180deg,transparent,rgba(255,255,255,.02));padding:18px 0;color:var(--muted)}
.footer-inner{display:flex;justify-content:space-between;align-items:center}
.footer-inner a{color:var(--muted);text-decoration:none;margin-left:12px}

/* responsive */
@media (max-width: 1100px){
  .nb-center{gap:18px}
  .hero-inner{grid-template-columns:1fr}
  .cards{grid-template-columns:repeat(2,1fr)}
  .reviews-grid{grid-template-columns:1fr 1fr}
}
@media (max-width: 680px){
  .nb-center .nav-link{display:none}
  .dropdown{display:none}
  .hero-title{font-size:40px}
  .editor-grid,.refine-grid{grid-template-columns:1fr}
  .cards{grid-template-columns:1fr}
  .reviews-grid{grid-template-columns:1fr}
}

/* Reduce spacing between Character Reference and Garment Reference in Prompt Engine */
.editor .panel.left .panel-inner .field.two-col:nth-of-type(2){
  margin-top: -1px;
}

/* Restore original alignment for left panels */
.panel.left .panel-inner{align-items:flex-start}
.refine .panel.left .panel-inner{align-items:flex-start}

/* Restore classic plus sign style for all uploaders */
.uploader .drop-area .plus{font-size:42px;color:var(--primary);margin-bottom:6px;font-weight:400}


